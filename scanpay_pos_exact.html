<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScanPay POS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #4a7bc8 0%, #5a8fd8 100%);
            height: 100vh;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #4a7bc8 0%, #5a8fd8 100%);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-icon {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .header-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .header-right {
            display: flex;
            gap: 0.8rem;
        }

        .scanning-btn {
            background: #4ade80;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .scanning-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .config-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Main Container */
        .main-container {
            display: flex;
            height: calc(100vh - 80px);
            padding: 1.5rem;
            gap: 1.5rem;
        }

        /* Left Panel */
        .left-panel {
            flex: 2;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .panel-header {
            background: linear-gradient(135deg, #4a7bc8 0%, #5a8fd8 100%);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .items-count {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.8rem;
            border-radius: 12px;
            font-size: 0.85rem;
        }

        .cart-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: #6b7280;
            text-align: center;
        }

        .cart-icon {
            font-size: 4rem;
            opacity: 0.3;
            margin-bottom: 1rem;
        }

        .empty-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .empty-subtitle {
            font-size: 1rem;
        }

        /* Right Panel */
        .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Total Card */
        .total-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .total-label {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .total-amount {
            font-size: 2.5rem;
            font-weight: 800;
            color: #10b981;
            margin-bottom: 0.25rem;
        }

        .total-products {
            font-size: 0.9rem;
            color: #6b7280;
        }

        /* Input Card */
        .input-card {
            background: #f1f5f9;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* Actions Card */
        .actions-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 1rem;
        }

        .input-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .barcode-icon {
            font-size: 1rem;
            color: #4a7bc8;
        }

        .input-label {
            font-size: 1rem;
            font-weight: 600;
            color: #374151;
        }

        .code-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1.5rem;
            background: white;
            transition: border-color 0.2s;
        }

        .code-input:focus {
            outline: none;
            border-color: #4a7bc8;
        }

        /* Quantity Controls */
        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quantity-btn:hover {
            border-color: #4a7bc8;
            color: #4a7bc8;
        }

        .quantity-display {
            width: 60px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            padding: 0.5rem;
            border: none;
            background: transparent;
        }

        /* Pay Button */
        .pay-button {
            width: 100%;
            padding: 1rem;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: background-color 0.2s;
        }

        .pay-button:hover {
            background: #059669;
        }

        .pay-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .delete-btn {
            background: #60a5fa;
            color: white;
        }

        .delete-btn:hover {
            background: #3b82f6;
        }

        .clear-btn {
            background: #f472b6;
            color: white;
        }

        .clear-btn:hover {
            background: #ec4899;
        }

        /* Product Items */
        .product-item {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-info h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: #374151;
        }

        .product-info p {
            font-size: 0.85rem;
            color: #6b7280;
        }

        .product-price {
            text-align: right;
        }

        .price-amount {
            font-size: 1.1rem;
            font-weight: 700;
            color: #10b981;
        }

        .price-details {
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="header-icon">üì¶</div>
            <div class="header-title">ScanPay POS</div>
        </div>
        <div class="header-right">
            <button class="scanning-btn">
                <div class="scanning-dot"></div>
                Scanning
            </button>
            <button class="config-btn">
                ‚öôÔ∏è Config
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Panel -->
        <div class="left-panel">
            <div class="panel-header">
                <div class="panel-title">
                    üõí Scanned Products
                </div>
                <div class="items-count" id="items-count">0 items</div>
            </div>
            
            <div class="cart-content" id="cart-content">
                <div class="cart-icon">üõí</div>
                <div class="empty-title">Cart is Empty</div>
                <div class="empty-subtitle">Scan a product or enter a code to begin.</div>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <!-- Total Card -->
            <div class="total-card">
                <div class="total-label">TOTAL TO PAY</div>
                <div class="total-amount" id="total-amount">$0.00</div>
                <div class="total-products" id="total-products">0 products</div>
            </div>

            <!-- Product Code Card -->
            <div class="input-card">
                <div class="input-header">
                    <div class="barcode-icon">|||</div>
                    <div class="input-label">Product Code</div>
                </div>
                
                <input 
                    type="text" 
                    class="code-input" 
                    id="product-code" 
                    placeholder="Scan or type code..."
                    autocomplete="off"
                >
                
                <div class="quantity-controls">
                    <button class="quantity-btn" onclick="changeQuantity(-1)">‚àí</button>
                    <input type="number" class="quantity-display" id="quantity" value="1" min="1" readonly>
                    <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                </div>
            </div>

            <!-- Actions Card -->
            <div class="actions-card">
                <button class="pay-button" id="pay-btn" onclick="processPay()" disabled>
                    üí≥ PAY
                </button>
                
                <div class="action-buttons">
                    <button class="action-btn delete-btn" onclick="deleteLastItem()">
                        ‚Ü∂ Delete Last
                    </button>
                    <button class="action-btn clear-btn" onclick="clearAll()">
                        üóëÔ∏è Clear All
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Estado global
        let cart = [];
        let total = 0;

        // Elementos DOM
        const productCodeInput = document.getElementById('product-code');
        const quantityInput = document.getElementById('quantity');
        const cartContentEl = document.getElementById('cart-content');
        const itemsCountEl = document.getElementById('items-count');
        const totalAmountEl = document.getElementById('total-amount');
        const totalProductsEl = document.getElementById('total-products');
        const payBtn = document.getElementById('pay-btn');

        // Productos simulados para demostraci√≥n
        const products = {
            '123456': { name: 'Coca Cola 350ml', price: 2.50 },
            '789012': { name: 'Pan Integral', price: 1.25 },
            '345678': { name: 'Leche Entera 1L', price: 3.75 },
            '901234': { name: 'Manzanas Red 1kg', price: 4.20 }
        };

        // Event listeners
        productCodeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addProduct();
            }
        });

        productCodeInput.focus();

        // Funciones principales
        function addProduct() {
            const code = productCodeInput.value.trim();
            const quantity = parseInt(quantityInput.value) || 1;
            
            if (!code) return;

            // Simular b√∫squeda de producto
            if (products[code]) {
                const product = products[code];
                addToCart(code, product.name, product.price, quantity);
                productCodeInput.value = '';
                quantityInput.value = '1';
                productCodeInput.focus();
            } else {
                alert(`Producto con c√≥digo "${code}" no encontrado.`);
                productCodeInput.focus();
            }
        }

        function addToCart(code, name, price, quantity) {
            // Buscar si ya existe
            const existingIndex = cart.findIndex(item => item.code === code);
            
            if (existingIndex >= 0) {
                cart[existingIndex].quantity += quantity;
            } else {
                cart.push({
                    code: code,
                    name: name,
                    price: price,
                    quantity: quantity
                });
            }
            
            updateDisplay();
        }

        function updateDisplay() {
            // Calcular total
            total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Actualizar contadores
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            itemsCountEl.textContent = `${totalItems} items`;
            totalAmountEl.textContent = `$${total.toFixed(2)}`;
            totalProductsEl.textContent = `${totalItems} products`;
            
            // Habilitar/deshabilitar bot√≥n de pago
            payBtn.disabled = cart.length === 0;
            
            // Mostrar productos o empty state
            if (cart.length === 0) {
                cartContentEl.innerHTML = `
                    <div class="cart-icon">üõí</div>
                    <div class="empty-title">Cart is Empty</div>
                    <div class="empty-subtitle">Scan a product or enter a code to begin.</div>
                `;
            } else {
                cartContentEl.innerHTML = cart.map(item => `
                    <div class="product-item">
                        <div class="product-info">
                            <h4>${item.name}</h4>
                            <p>Code: ${item.code}</p>
                        </div>
                        <div class="product-price">
                            <div class="price-amount">$${(item.price * item.quantity).toFixed(2)}</div>
                            <div class="price-details">Qty: ${item.quantity} √ó $${item.price.toFixed(2)}</div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function changeQuantity(delta) {
            const current = parseInt(quantityInput.value) || 1;
            const newValue = Math.max(1, current + delta);
            quantityInput.value = newValue;
        }

        function deleteLastItem() {
            if (cart.length > 0) {
                cart.pop();
                updateDisplay();
            }
        }

        function clearAll() {
            if (cart.length > 0 && confirm('¬øEst√° seguro de que desea limpiar todo el carrito?')) {
                cart = [];
                updateDisplay();
                productCodeInput.focus();
            }
        }

        function processPay() {
            if (cart.length === 0) return;
            
            const paymentMethod = confirm('Seleccione m√©todo de pago:\n\nOK = Efectivo\nCancelar = Tarjeta') ? 'Efectivo' : 'Tarjeta';
            
            alert(`¬°Pago procesado exitosamente!\n\nTotal: $${total.toFixed(2)}\nM√©todo: ${paymentMethod}\nProductos: ${cart.length}`);
            
            cart = [];
            updateDisplay();
            productCodeInput.focus();
        }

        // Inicializar
        updateDisplay();
    </script>
</body>
</html>